<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>

		<record id="wizard_import_file" model="ir.ui.view">
			<field name="name">wizard.wizard.import.file.form</field>
			<field name="model">cl.import.file</field>
			<field name="arch" type="xml">
				<form string="Importar archivo">
					<group>
						<field name="lines_to_import"/>
						<tree editable="bottom">
							<field name="picking_id" invisible="1"/>
							<field name="product_id" invisible="1"/>
							<field name="in_entire_package" invisible="1"/>
							<field name="state" invisible="1"/>
							<field name="location_id" attrs="{'readonly': [('in_entire_package', '=', True)]}" invisible="1" domain="[('id', 'child_of', parent.location_id)]" groups="stock.group_stock_multi_locations"/>
							<field name="location_dest_id" attrs="{'readonly': [('in_entire_package', '=', True)]}" invisible="1" domain="[('id', 'child_of', parent.location_dest_id)]" groups="stock.group_stock_multi_locations"/>
							<field name="lot_id" attrs="{'readonly': [('in_entire_package', '=', True)]}" invisible="not context.get('show_lots_m2o')" domain="[('product_id', '=', parent.product_id)]" groups="stock.group_production_lot" context="{'default_product_id': parent.product_id, 'active_picking_id': picking_id}"/>
							<field name="lot_name" attrs="{'readonly': [('in_entire_package', '=', True)]}" invisible="not context.get('show_lots_text')" groups="stock.group_production_lot"/>
							<field name="package_id" attrs="{'readonly': [('in_entire_package', '=', True)]}" invisible="not context.get('show_package')" groups="stock.group_tracking_lot" domain="[('location_id', '=', location_id)]"/>
							<field name="result_package_id" attrs="{'readonly': [('in_entire_package', '=', True)]}" groups="stock.group_tracking_lot" domain="['|', '|', ('location_id', '=', False), ('location_id', '=', location_dest_id), ('id', '=', package_id)]"/>
							<field name="CSN" /><!--attrs="{'invisible':[('lot_id','=',False)]}" -->
							<field name="ship_order_move" string="Ship/Transport Order"/>
							<field name="is_initial_demand_editable" invisible="1"/>
							<field name="product_uom_qty" invisible="not context.get('show_reserved_quantity')" readonly="1"/>
							<field name="is_locked" invisible="1"/>
							<field name="qty_done" attrs="{'readonly': ['|','|', ('is_initial_demand_editable', '=', True), '&amp;', ('state', '=', 'done'), ('is_locked', '=', True), ('in_entire_package', '=', True)]}"/>
                    	</tree>
						<field name="origin" invisible="1"/>
						<field name="product"/>
						<field name="file_import" filename="name"/>
					</group>
					<footer>
						<button string="Import" name="import_file" type="object" class="oe_highlight" />
						<button string="Cancel" class="oe_link" special="cancel" />
					</footer>
				</form>
			</field>
		</record>

		<record id="import_file" model="ir.actions.act_window">
			<field name="name">Import file</field>
			<field name="res_model">cl.import.file</field>
			<field name="view_type">form</field>
			<field name="view_mode">form</field>
			<field name="view_id" ref="wizard_import_file" />
			<field name="target">new</field>
		</record>

	</data>
</odoo>
